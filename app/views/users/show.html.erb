<div class="container">
  <div class="card-block">
    <h1 class="card-title"><%= @user.full_name %></h1>
    <h3 class="card-subtitle"><%= @user.user_name %></h3>
    <div id="user-stats-wrapper">
      <span class="badge badge-pill badge-info">Total: <%= @user.total_odds_ares.size %> </span>
      <span class="badge badge-pill badge-success">Won: <%= @user.won_odds_ares.size %> </span>
      <span class="badge badge-pill badge-danger">Lost: <%= @user.lost_odds_ares.size %> </span>
      <span class="badge badge-pill badge-primary">Completed: <%= @user.completed_odds_ares.size %> </span>
      <span class="badge badge-pill badge-warning">Dares completed: <%= @user.dares_completed.size %> </span>
    </div>
    <% if current_user == @user %>

    <% else %><!-- end of profile view -->
      <div class="user-button">
        <% if current_user.pending_friends.include?(@user) %>
          <h5>Friend request pending </h5>
        <% elsif current_user.requested_friends.include?(@user) %>
          <%= button_to "Accept Friend", accept_friend_request_url(:user_id => @user.id), class: "btn btn-sm btn-primary" %>
        <% elsif current_user.friends.include?(@user) %>
          <%= button_to "Send Odds Are", new_challenge_request_path, method: :get, class: "btn btn-sm btn-primary" %>
        <% else %>
          <%= button_to "Add Friend", send_friend_request_url(:user_id => @user.id), class: "btn btn-sm btn-primary" %>
        <% end %>
      <% end %><!-- end of external user view -->
    </div>
</div>
</div>
